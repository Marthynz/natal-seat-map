<!DOCTYPE html> 
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>"Apple Tree Seats Map Christmas Celebration"</title>

  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      color: #333;
      margin: 2rem;
      overflow-x: hidden;
    }

    /* Efek Salju */
    .snowflake {
      position: fixed;
      top: -10px;
      color: white;
      font-size: 1em;
      pointer-events: none;
      animation: fall linear infinite;
    }

    @keyframes fall {
      0%   { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(110vh); opacity: 0.4; }
    }

    .page-box {
      background: white;
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      max-width: 900px;
      margin: auto;
    }

    h1 {
      color: #006400;
      font-size: 1.8rem;
    }

    .stage {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2px;
      margin: 20px 0;
    }

    .tree-img {
      width: 150px;
      height: auto;
    }

    .stage-img {
      max-width: 200px;
      width: 100%;
      height: auto;
    }

    .seat-map {
      display: flex;
      justify-content: center;
      gap: 100px;
      margin-top: 2rem;
      flex-wrap: wrap;
    }

    .column {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      flex-wrap: wrap;
    }

    .row-label {
      width: 30px;
      text-align: right;
      font-weight: bold;
      color: #444;
    }

    .seat {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      background-color: #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      cursor: default;
    }

    .selected {
      background-color: #4caf50;
      color: white;
      font-weight: bold;
    }

    /* VIP */
    .vip-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      margin-bottom: 5px;
    }

    .vip-seat {
      width: 33px;
      height: 33px;
      background-color: red;
      color: white;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      font-weight: bold;
    }

    .vip-label {
      width: 30px;
      text-align: right;
      font-weight: bold;
      color: #b30000;
    }

    .seat-info {
      margin-top: 2rem;
      font-weight: bold;
      background-color: #fff8dc;
      display: inline-block;
      padding: 10px 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 768px) {
      body { margin: 1rem; }
      .stage-img { max-width: 200px; }
      .tree-img { width: 80px; }
      .seat-map { gap: 40px; }
      .seat { width: 24px; height: 24px; font-size: 10px; }
      .vip-seat { width: 28px; height: 28px; font-size: 9px; }
      .row-label { width: 20px; font-size: 12px; }
    }

      #popup-box {
      position: fixed;
      top: 20px;
      right: 20px;
      background: white;
      padding: 20px 25px;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      font-family: sans-serif;
      z-index: 9999;
      width: 260px;
      display: none;
      animation: fadeIn 0.8s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>
<div class="page-box">

  <h1>Christmas CelebrationüéÑ</h1>
  <h3>"A Night At The Toy Store"</h3>

  <div class="stage">
    <img src="img/tree.png" class="tree-img" alt="Pohon Natal">
    <img src="img/panggung.png" class="stage-img" alt="Panggung Natal">
    <img src="img/tree.png" class="tree-img" alt="Pohon Natal">
  </div>

  <div id="seat-map" class="seat-map"></div>

  <div id="seat-info" class="seat-info"></div>

  <div id="popup-box"></div>


  <script>
    const params = new URLSearchParams(window.location.search);
    const seatParam = params.get("seat"); 
    const seatMap = document.getElementById("seat-map");
    const seatInfo = document.getElementById("seat-info");

    const seatAssignments = {
      // Kolom Kiri
        // Baris A
          "aron": ["A-left-1"],
          "daaron": ["A-left-2", "A-left-3", "A-left-4"],
          "patrine": ["A-left-5", "A-left-6"],
          "kalyna": ["A-left-7", "A-left-8"],
        // Baris B
          "kelsey": ["B-left-1", "B-left-2", "B-left-3"],
          "ralph": ["B-left-4", "B-left-5"],
          "gaby": ["B-left-6", "B-left-7", "B-left-8"],
        // Baris C
          "raphael": ["C-left-1", "C-left-2"],
          "kayla": ["C-left-3", "C-left-4"],
          "javier": ["C-left-5"],
          "jocelyn": ["C-left-6", "C-left-7"],
          "aluna": ["C-left-8"],
        // Baris D
          "eve": ["D-left-1", "D-left-2", "D-left-3", "D-left-4"],
          "oliver": ["D-left-5", "D-left-6"],
          "griffin": ["D-left-7", "D-left-8"],
        // Baris E
          "tian": ["E-left-1", "E-left-2"],
          "yafet": ["E-left-3", "E-left-4"],
          "livy": ["E-left-5", "E-left-6"],
          "nadi": ["E-left-7", "E-left-8"],
        // Baris F
          "cherryl": ["F-left-1", "F-left-2"],
          "elena": ["F-left-3", "F-left-4"],
          "benedicto": ["F-left-6", "F-left-7", "F-left-8"],
        // Baris G
          "ken": ["G-left-1", "G-left-2", "G-left-3"],
          "philo": ["G-left-4", "G-left-5", "G-left-6"],
          "xavier": ["G-left-7"],
          "zidane": ["G-left-8"],
        // Baris H
          "arsyila": ["H-left-1", "H-left-2"],
          "keira": ["H-left-4", "H-left-5", "H-left-6"],
          "david-s": ["H-left-7", "H-left-8"],



      // Kolom Kanan
        // Baris A
          "kaylyn": ["A-right-1"],
          "klarissa": ["A-right-2"],
          "sean": ["A-right-3", "A-right-4"],
          "emma": ["A-right-5", "A-right-6"],
          "inggrid": ["A-right-7", "A-right-8"],
        // Baris B
          "ace": ["B-right-1", "B-right-2"],
          "finnick": ["B-right-3", "B-right-4", "B-right-5"],
          "dion": ["B-right-6", "B-right-7"],
        // Baris C
          "deviano": ["C-right-1", "C-right-2"],
          "ayu": ["C-right-3", "C-right-4"],
          "nathan": ["C-right-5", "C-right-6"],
          "austin": ["C-right-7", "C-right-8"],
        // Baris D
          "jasmine": ["D-right-1", "D-right-2"],
          "alex": ["D-right-3", "D-right-4", "D-right-5", "D-right-6"],
          "clairine": ["D-right-7", "D-right-8"],
        // Baris E
          "godwin": ["E-right-1", "E-right-2"],
          "miguel": ["E-right-3", "E-right-4", "E-right-5"],
          "saskia": ["E-right-7", "E-right-8"],
        // Baris F
          "david": ["F-right-1", "F-right-2"],
          "syena": ["F-right-3", "F-right-4"],
          "benaiah": ["F-right-5", "F-right-6", "F-right-7", "F-right-8"],
        // Baris G
          "aaron": ["G-right-1", "G-right-2"],
          "briel": ["G-right-3", "G-right-4"],
          "cleo": ["G-right-5", "G-right-6"],
          "tapasya": ["G-right-7", "G-right-8"],
        // Baris H
          "lizzy": ["H-right-1", "H-right-2"],
          "nitra": ["H-right-3", "H-right-4"],
         
          
    };

    let selectedSeats = seatAssignments[seatParam] || [];

    seatInfo.textContent = seatParam
      ? `Student: ${seatParam} | Seat(s): ${selectedSeats.join(", ")}`
      : "Silakan pindai QR untuk melihat posisi kursi Anda.";

    const columns = ["left", "right"];
    const rows = ["A","B","C","D","E","F","G","H"];
    const seatsPerRow = 8;

    columns.forEach(side => {
      const colDiv = document.createElement("div");
      colDiv.classList.add("column");

      /* === VIP BARIS === */
      const vipRow = document.createElement("div");
      vipRow.classList.add("vip-row");

      const vipLabel = document.createElement("div");
      vipLabel.classList.add("vip-label");
      vipRow.appendChild(vipLabel);

      for (let v = 1; v <= 5; v++) {
        const vipSeat = document.createElement("div");
        vipSeat.classList.add("vip-seat");
        vipSeat.textContent = "VIP";
        vipRow.appendChild(vipSeat);
      }

      colDiv.appendChild(vipRow);

      /* === KURSI NORMAL === */
      rows.forEach(row => {
        const rowDiv = document.createElement("div");
        rowDiv.classList.add("row");

        const labelDiv = document.createElement("div");
        labelDiv.classList.add("row-label");
        labelDiv.textContent = row;
        rowDiv.appendChild(labelDiv);

        for (let s = 1; s <= seatsPerRow; s++) {
          const seatDiv = document.createElement("div");
          seatDiv.classList.add("seat");
          seatDiv.textContent = s;

          const code = `${row}-${side}-${s}`;
          if (selectedSeats.includes(code)) {
            seatDiv.classList.add("selected");
          }

          rowDiv.appendChild(seatDiv);
        }

        colDiv.appendChild(rowDiv);
      });

      seatMap.appendChild(colDiv);
    });
  </script>

</div>

<!-- === BACKGROUND MUSIC === -->
<audio id="bg-music" autoplay loop>
  <source src="music/wewish.mp3" type="audio/mpeg" />
</audio>

<script>
  const bgMusic = document.getElementById("bg-music");
  bgMusic.volume = 0.12;

  const btn = document.createElement("button");
  btn.textContent = "‚è∏ Pause Music";
  btn.style.position = "fixed";
  btn.style.bottom = "20px";
  btn.style.right = "20px";
  btn.style.padding = "10px 16px";
  btn.style.border = "none";
  btn.style.borderRadius = "10px";
  btn.style.background = "#c62828";
  btn.style.color = "white";
  btn.style.cursor = "pointer";
  btn.style.fontWeight = "bold";
  btn.style.boxShadow = "0 4px 10px rgba(0,0,0,0.2)";

  btn.onclick = () => {
    if (bgMusic.paused) {
      bgMusic.play();
      btn.textContent = "‚è∏ Pause Music";
    } else {
      bgMusic.pause();
      btn.textContent = "‚ñ∂ Play Music";
    }
  };

  document.body.appendChild(btn);
</script>

<!-- === SNOW EFFECT SCRIPT === -->
<script>
  function createSnow() {
    const snow = document.createElement("div");
    snow.classList.add("snowflake");
    snow.textContent = "‚ùÑ";

    snow.style.left = Math.random() * 100 + "vw";
    snow.style.fontSize = Math.random() * 12 + 10 + "px";
    snow.style.animationDuration = Math.random() * 5 + 5 + "s";
    snow.style.opacity = Math.random();

    document.body.appendChild(snow);

    setTimeout(() => snow.remove(), 12000);
  }

  setInterval(createSnow, 150);

  window.addEventListener("load", () => {
    const params = new URLSearchParams(window.location.search);
    const seatParam = params.get("seat");

    if (!seatParam) return; // tidak tampil jika tidak scan QR

    // Ambil kursi yg dipetakan
    const seats = seatAssignments[seatParam] || [];

    let side = "";
    if (seats.length > 0) {
      side = seats[0].includes("left") ? "Left Side" : "Right Side";
    }

    const popup = document.getElementById("popup-box");

    popup.innerHTML = `
      <h3 style="margin:0; color:#006400;">üéÑ Welcome!</h3>
      <p style="margin:6px 0 0 0; font-size:14px;"><b>Student:</b> ${seatParam}</p>
      <p style="margin:4px 0; font-size:14px;"><b>Side:</b> ${side}</p>
      <p style="margin:4px 0; font-size:14px;"><b>Seat(s):</b> ${seats.join(", ")}</p>
      <p style="font-size:12px; margin-top:10px; color:#666;">Popup will close in 10 seconds...</p>
    `;

    popup.style.display = "block";

    // Auto close dalam 10 detik
    setTimeout(() => {
      popup.style.display = "none";
    }, 10000);
  });
</script>

</body>
</html>
